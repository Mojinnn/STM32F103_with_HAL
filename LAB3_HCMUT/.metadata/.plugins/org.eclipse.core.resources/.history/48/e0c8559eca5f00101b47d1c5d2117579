/*
 * led_7SEG.c
 *
 *  Created on: Jul 1, 2025
 *      Author: Lenovo
 */
#include "led_7SEG.h"

void display7SEG(int num) {
	//use  BCD decoder
	int A,B,C,D;
	A = (num >> 3) & 1; //MSB
	B = (num >> 2) & 1;
	C = (num >> 1) & 1;
	D = (num >> 0) & 1; // LSB

	int a,b,c,d,e,f,g;

	a =  C || A || (!B && !D) || (B && D);
	b = !B || (C && D) || (!C && !D);
	c = !C || B || D;
	d =  A || (!B && !D) || (!B && C) || (C && !D) || (B && !C && D);
	e = (!B && !D) || (C && !D);
	f =  A || (B && !D) || (!C && !D) || (B && !C);
	g =  A || (!B && C) || (B && !D) || (B && !C);

	HAL_GPIO_WritePin(A_H_GPIO_Port, A_H_Pin, !a);
	HAL_GPIO_WritePin(B_H_GPIO_Port, B_H_Pin, !b);
	HAL_GPIO_WritePin(C_H_GPIO_Port, C_H_Pin, !c);
	HAL_GPIO_WritePin(D_H_GPIO_Port, D_H_Pin, !d);
	HAL_GPIO_WritePin(E_H_GPIO_Port, E_H_Pin, !e);
	HAL_GPIO_WritePin(F_H_GPIO_Port, F_H_Pin, !f);
	HAL_GPIO_WritePin(G_H_GPIO_Port, G_H_Pin, !g);
}

void clear_all() {
	HAL_GPIO_WritePin(EN0_GPIO_Port, EN0_Pin, SET);
	HAL_GPIO_WritePin(EN1_GPIO_Port, EN1_Pin, SET);
	HAL_GPIO_WritePin(EN2_GPIO_Port, EN2_Pin, SET);
	HAL_GPIO_WritePin(EN3_GPIO_Port, EN3_Pin, SET);
}

void display7SEG_X(int num) {
	EN
}

void display7SEG_Y(int num) {

}
